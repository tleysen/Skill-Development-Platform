<div class="container" ng-controller="employeesController">
    <div ng-init=""></div>

    <!-- BACK TO EMPLOYEES -->
    <span>
        <button type="button" class="btn btn-circle bg-stardust font1" onclick="location.href='#!/employees';"><i class="fas fa-caret-left"></i></button>
        <button type="button" class="btn btn-circle bg-stardust font1 btn-right" style = "float: right;" data-toggle="modal" data-target="#modalEdit" ><i class="fas fa-edit"></i></button>
    </span>
    <!-- HEADER -->
    <h1 class="font1-black" style="text-align: center; padding-bottom: 10px; margin-bottom: 30px; border-bottom: 1px solid darkgray;" >Employee Details:</h1>


    <div class="row">

        <div class="col-lg-1"></div>
        <!-- DETAILS -->
        <div class="col-lg-4">
            <b>Employee:</b> {{user.name}} {{user.lastname}}</br>
            <b>Birth date:</b> {{user.birth_date}}</br>
            <b>Hiring date:</b> {{user.hiring_date}}</br>
            <b>Sex: </b> {{user.sex}}</br>
            <b>Functions: </b> {{user.function.name}}</br>
            <ul>
                <li ng-repeat="f in employeefunctions"><a ng-href="#!/employeefunctiondetail/{{user.id}}/{{f.function.id}}" >{{f.function.name}}</a></li>
            </ul>
            <hr>
            <h3>Overall level: {{expobj.level}}</h3>
            <h5>{{expobj.title}}</h5>
            <b>Progress:</b> {{expobj.remainingExp}} / {{expobj.requiredExp}} exp
            <div class="progress">
                <div id="progressbar" class="progress-bar btn-red" role="progressbar" style="width: 0%; height: 100%;" aria-valuenow="{{progress}}" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>

        <!-- POLARCHART -->
        <div class="col-lg-6 sub-content">
            <h5 class="font1-black" style="text-align: center;">Top 5 skills:</h5>
            <canvas id="polarChart"></canvas>
        </div>
    </div>
</div>

<!-- MODAL EDIT-->
<div class="modal fade" id="modalEdit" tabindex="-1" role="dialog" aria-labelledby="editEmployeeModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title font1-black" id="exampleModalLongTitle">Edit {{user.name}} {{user.lastname}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body font2-black">
                <!-- FORM -->
                <form>
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label for="inputFirstName">First name</label>
                            <input type="text" class="form-control" id="inputFirstName" placeholder="{{user.name}}" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="inputLastName">Last name</label>
                            <input type="text" class="form-control" id="inputLastName" placeholder="{{user.lastname}}" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label for="inputHiring">Hiringdate</label>
                            <input type="text" class="form-control" id="inputHiring" placeholder="{{user.hiring_date}}" required>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="inputBirth">Birthdate</label>
                            <input type="text" class="form-control" id="inputBirth" placeholder="{{user.birth_date}}" required>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="inputSex">Sex</label>
                            <input type="text" class="form-control" id="inputSex" placeholder="{{user.sex}}" required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-circle btn-save font1" ng-click="editEmployee()" data-dismiss="modal"><i class="fas fa-save"></i></button>
                        <button type="button" class="btn btn-circle btn-cancel font1" data-dismiss="modal"><i class="fas fa-times"></i></button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>